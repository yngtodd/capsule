Bootstrap: docker

From: anibali/pytorch:cuda-9.2 

%help

  Singularity container for HyperPoints. Running Pytorch 0.4.1 and Cuda 9.2.

%post
  
  echo "Configuring baseline: Apt repositories."
  apt update
  apt install -y mpich
  apt install -y build-essential wget curl pkg-config libtool autoconf g++ zip zlib1g-dev unzip git

%post

  echo "Setting up Anaconda"
  wget http://repo.continuum.io/archive/Anaconda3-5.3.0-Linux-x86_64.sh
  chmod +x Anaconda3-5.3.0-Linux-x86_64.sh
  bash Anaconda3-5.3.0-Linux-x86_64.sh -b -p ~/anaconda
  export PATH="~/anaconda/bin:$PATH"
  conda create -n points python=3.6

%runscript

  echo "RaawWWWRRRR!"
  source activate points
  python
